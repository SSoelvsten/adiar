\begin{blstlisting}
  apply_root((v$_1$, v$_2$) : Node$\times$Node, op: bool$\times$bool $\rightarrow$ bool):
    low' := compare v$_1$.label to v$_2$.label:  <  => (v$_1$.low, v$_2$)
                                      | > => (v$_1$, v$_2$.low)
                                      | = => (v$_1$.low, v$_2$.low)
    high' := compare v$_1$.label to v$_2$.label:  <  => (v$_1$.high, v$_2$)
                                       | > => (v$_1$, v$_2$.high)
                                       | = => (v$_1$.high, v$_2$.high)

    root' := Link{ index=0, label=min(t$_1$.label = t$_2$.label) }

    return (root', low', high')
\end{blstlisting}
