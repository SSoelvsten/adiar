<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Adiar: Function Objects</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Adiar
   &#160;<span id="projectnumber">2.0.0</span>
   </div>
   <div id="projectbrief">An External Memory Decision Diagram Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('page__functional.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Function Objects </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="el" href="page__basic.html">Basic Usage</a> contained examples for how to use the basic version of most BDD operations. For more advanced usage, you need to use <a class="el" href="group__module____functional.html">Function Objects</a> as a bridge between your own code and Adiar.</p>
<h1><a class="anchor" id="autotoc_md25"></a>
Predicates</h1>
<p>An <code><a class="el" href="group__module____functional.html#ga78d4d136e1487656864654cd556233d8" title="Predicate function given value(s) of type(s) Args.">adiar::predicate</a>&lt;T&gt;</code> is a function that given a value of some type <code>T</code> returns a <code>bool</code>. For example, the following <em>lambda</em> is a predicate for whether a BDD variable is odd.</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code" href="group__module____functional.html#ga78d4d136e1487656864654cd556233d8">adiar::predicate&lt;int&gt;</a> is_odd = [](<span class="keywordtype">int</span> x) -&gt; <span class="keywordtype">bool</span></div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">return</span> x % 2;</div>
<div class="line">};</div>
<div class="ttc" id="agroup__module____functional_html_ga78d4d136e1487656864654cd556233d8"><div class="ttname"><a href="group__module____functional.html#ga78d4d136e1487656864654cd556233d8">adiar::predicate</a></div><div class="ttdeci">function&lt; bool(Args...)&gt; predicate</div><div class="ttdoc">Predicate function given value(s) of type(s) Args.</div><div class="ttdef"><b>Definition:</b> functional.h:48</div></div>
</div><!-- fragment --><p>In <a class="el" href="page__basic.html">Basic Usage</a>, we showed how to use it to quantify a single variable. You can parse the above predicate to <code><a class="el" href="group__module____bdd.html#gacf8f50868fb8eac4eff5587173ab703c" title="Existential quantification of a single variable.">adiar::bdd_exists</a></code> to quantify all odd variables at once.</p>
<div class="fragment"><div class="line"><a class="code" href="classadiar_1_1bdd.html">adiar::bdd</a> _ = <a class="code" href="group__module____bdd.html#gacf8f50868fb8eac4eff5587173ab703c">adiar::bdd_exists</a>(f, is_odd);</div>
<div class="ttc" id="aclassadiar_1_1bdd_html"><div class="ttname"><a href="classadiar_1_1bdd.html">adiar::bdd</a></div><div class="ttdoc">A reduced Binary Decision Diagram.</div><div class="ttdef"><b>Definition:</b> bdd.h:53</div></div>
<div class="ttc" id="agroup__module____bdd_html_gacf8f50868fb8eac4eff5587173ab703c"><div class="ttname"><a href="group__module____bdd.html#gacf8f50868fb8eac4eff5587173ab703c">adiar::bdd_exists</a></div><div class="ttdeci">__bdd bdd_exists(const bdd &amp;f, bdd::label_type var)</div><div class="ttdoc">Existential quantification of a single variable.</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md26"></a>
Iterators</h1>
<p>As part of your program, you most likely store the to-be quantified variables somewhere. The <em>idiomatic</em> way in C++ to interact with data structures is to use <em>iterators</em>. A data structure can be parsed directly to Adiar's operations, if it can provide its data in the same order as they need to be consumed by the BDD operation. In the case of <code><a class="el" href="group__module____bdd.html#gacf8f50868fb8eac4eff5587173ab703c" title="Existential quantification of a single variable.">adiar::bdd_exists</a></code>, the iterator's data has to be in <em>descending</em> order.</p>
<div class="fragment"><div class="line">std::vector&lt;int&gt; xs = { 5, 3, 1 };</div>
<div class="line"> </div>
<div class="line"><a class="code" href="classadiar_1_1bdd.html">adiar::bdd</a> _ = <a class="code" href="group__module____bdd.html#gacf8f50868fb8eac4eff5587173ab703c">adiar::bdd_exists</a>(f, xs.begin(), xs.end());</div>
</div><!-- fragment --><p>Reversely, one can also parse information from Adiar's algorithms back into one's own data structures with a pair of iterators. For example, the variables within a BDD can be copied (in <em>ascending</em> order) into a <code>std::vector&lt;int&gt;</code> <code><a class="el" href="group__module____bdd.html#gaba9c6758f6c0ba4fea4ccc7b68f5b8d6" title="Get (in ascending order) all of the variable labels that occur in the BDD.">adiar::bdd_support</a></code>.</p>
<div class="fragment"><div class="line">std::vector&lt;int&gt; xs(<a class="code" href="group__module____bdd.html#ga9ec0db00fab5951b1e3c45f33995afc7">adiar::bdd_varcount</a>(f));</div>
<div class="line"> </div>
<div class="line"><a class="code" href="group__module____bdd.html#gaba9c6758f6c0ba4fea4ccc7b68f5b8d6">adiar::bdd_support</a>(f, xs.begin(), xs.end());</div>
<div class="ttc" id="agroup__module____bdd_html_ga9ec0db00fab5951b1e3c45f33995afc7"><div class="ttname"><a href="group__module____bdd.html#ga9ec0db00fab5951b1e3c45f33995afc7">adiar::bdd_varcount</a></div><div class="ttdeci">bdd::label_type bdd_varcount(const bdd &amp;f)</div><div class="ttdoc">The number of variables that influence the outcome of f, i.e. the number of levels in the BDD.</div></div>
<div class="ttc" id="agroup__module____bdd_html_gaba9c6758f6c0ba4fea4ccc7b68f5b8d6"><div class="ttname"><a href="group__module____bdd.html#gaba9c6758f6c0ba4fea4ccc7b68f5b8d6">adiar::bdd_support</a></div><div class="ttdeci">void bdd_support(const bdd &amp;f, const consumer&lt; bdd::label_type &gt; &amp;cb)</div><div class="ttdoc">Get (in ascending order) all of the variable labels that occur in the BDD.</div></div>
</div><!-- fragment --><p>Here, we initialise the vector with <code><a class="el" href="group__module____bdd.html#ga9ec0db00fab5951b1e3c45f33995afc7" title="The number of variables that influence the outcome of f, i.e. the number of levels in the BDD.">adiar::bdd_varcount</a></code> many default-initialized values to be sure that the range <code>xs.begin()</code> to <code>xs.end()</code> is big enough to fit the entire result.</p>
<h1><a class="anchor" id="autotoc_md27"></a>
Generators and Consumers</h1>
<p>Under the hood, Adiar wraps the iterator-pair into an <code><a class="el" href="group__module____functional.html#ga73cb424aed6cb6d7e9e6c7d9d85132d7" title="Generator function that produces a new value of RetType for each call.">adiar::generator</a>&lt;int&gt;</code> or an <code><a class="el" href="group__module____functional.html#gadefcfc26477d436a74ae5823676110dc" title="Consumer function of value(s) of type(s) Args.">adiar::consumer</a>&lt;int&gt;</code>.</p>
<h2><a class="anchor" id="autotoc_md28"></a>
Generators</h2>
<p>A generator function is a stateful function object that when called provides an <code><a class="el" href="namespaceadiar.html#ac00584c842920c2e4fd92d13b5112746" title="An optional value, i.e. a possibly existent value.">adiar::optional</a>&lt;int&gt;</code> of the next value; in many ways this can be thought of as a <em>coroutine</em>. That is, the above example for quantifying x<sub>5</sub>, x<sub>3</sub>, and x<sub>1</sub> can also be done with the following <em>lambda</em> function.</p>
<div class="fragment"><div class="line"><span class="keywordtype">int</span> x = 7;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> gen = [&amp;x]() -&gt; <span class="keywordtype">int</span> {</div>
<div class="line">  <span class="comment">// If x &lt; 0, we are done.</span></div>
<div class="line">  <span class="keywordflow">if</span> (x &lt; 0) { <span class="keywordflow">return</span> adiar::make_optional&lt;int&gt;(); }</div>
<div class="line">  <span class="comment">// Otherwise, return x-2.</span></div>
<div class="line">  <span class="keywordflow">return</span> x -= 2;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><a class="code" href="classadiar_1_1bdd.html">adiar::bdd</a> _ = <a class="code" href="group__module____bdd.html#gacf8f50868fb8eac4eff5587173ab703c">adiar::bdd_exists</a>(f, gen);</div>
</div><!-- fragment --><p>Similarly, one can parse an (<em>ascending</em>) iterator or generator <code><a class="el" href="group__module____bdd.html#gafbf9600fb919ec4d16144c8744ee276e" title="Restrict a single variable to a constant value.">adiar::bdd_restrict</a></code> to restrict multiple variables. Doing so is going to be significantly faster.</p>
<h2><a class="anchor" id="autotoc_md29"></a>
Consumers</h2>
<p>A consumer function essentially is a <em>callback</em> that consumes the result. For example, we can print all of the variables that are present within a BDD to the console with the following <em>lambda</em> function.</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keyword">auto</span> con = [](<span class="keywordtype">int</span> x) -&gt; <span class="keywordtype">void</span> {</div>
<div class="line"> std::cout &lt;&lt; x &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">};</div>
<div class="line"><a class="code" href="group__module____bdd.html#gaba9c6758f6c0ba4fea4ccc7b68f5b8d6">adiar::bdd_support</a>(f, con);</div>
</div><!-- fragment --><p>Similarly, one can obtain the satisfying assignment of <code><a class="el" href="group__module____bdd.html#ga82d50901064486da23984c7dfac196c0" title="The lexicographically smallest cube x such that f(x) is true.">adiar::bdd_satmin</a></code> and <code><a class="el" href="group__module____bdd.html#ga9845c0561ddec1f079e4b14351011d44" title="The lexicographically largest cube x such that f(x) is true.">adiar::bdd_satmax</a></code> with iterators and/or consumer functions. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="page__tutorial.html">Tutorial</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
